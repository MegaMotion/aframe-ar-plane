<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello, World! • A-Frame three.ar.js</title>
    <meta name="description" content="Hello, World! • A-Frame three.ar.js">
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://rawgit.com/google-ar/three.ar.js/master/dist/three.ar.js"></script>
    <script src="https://rawgit.com/chenzlabs/aframe-ar/experimental-planes/dist/aframe-three-ar-planes.js"></script>
    <script src="https://rawgit.com/chenzlabs/aframe-ar/experimental-planes/dist/aframe-ar.js"></script>
  </head>
  <body>    
    <a-scene ar>
      <a-sphere id="ball" radius="0.01" position="0 0.005 -0.5"></a-sphere>
      
      <a-camera>
        <a-text id="hud" 
                scale="0.01 0.01 0.01" position="0 -0.025 -0.1" 
                color="red" align="center" 
                value="Hi there"></a-text>
      </a-camera>
    </a-scene>    
    
    <script>
      var sc = document.querySelector('a-scene');
      function showHUD(msg) { sc.querySelector('#hud').setAttribute('value', msg); }
      
      function onCreatePlane(evt) {
        showHUD('onCreatePlane: ' + JSON.stringify(evt.detail.extent)); //Object.keys(evt.detail).join(','));
        var plane = document.createElement('a-box');
        plane.setAttribute('id', 'plane_' + evt.detail.id);
        plane.setAttribute('width', evt.detail.extent.x);
        plane.setAttribute('height', 0.001);
        plane.setAttribute('depth', evt.detail.extent.z);
        plane.setAttribute('position', evt.detail.position);
        plane.setAttribute('rotation', evt.detail.rotation);
        plane.setAttribute('scale', evt.detail.scale);
        sc.appendChild()
      }      
      
      function onUpdatePlane(evt) {
        showHUD('onUpdatePlane: ' + Object.keys(evt.detail).join(','));
      }      
      
      function onRemovePlane(evt) {
        showHUD('onRemovePlane: ' + Object.keys(evt.detail).join(','));
      }      
      
      function addEventListeners() {
        sc.addEventListener('createplane', onCreatePlane);
        //sc.addEventListener('updateplane', onUpdatePlane);
        sc.addEventListener('removeplane', onRemovePlane);
      }
      
      function onSceneLoaded() { 
        addEventListeners(); 
      }
      
      if (sc.hasLoaded) { onSceneLoaded(); }
      else { sc.addEventListener('loaded', onSceneLoaded); }
    </script>
  </body>
</html>